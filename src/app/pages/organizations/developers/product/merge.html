<div class="flex-container">
  <div class="flex-item">
    <h1>{{ $ctrl.developer.name }}</h1>
  </div>
</div>
<div class="flex-container">
  <div class="flex-item panel panel-default">
    <div class="panel-body">
      <h2>Add Products to Merge</h2>
      <label for="selected-to-merge" class="sr-only">Add product to merge</label>
      <input type="text" ng-model="$ctrl.selectedToMerge" class="form-control" id="selected-to-merge" name="selectedToMerge"
             uib-typeahead="product.name as product.name for product in $ctrl.products | filter:$viewValue | filter:{selected:false} | limitTo:8"
             typeahead-no-results="$ctrl.noneFound" typeahead-on-select="$ctrl.selectProduct($item, $model, $label, $event)"
             typeahead-editable="false" typeahead-show-hint="true">
      <div ng-if="$ctrl.noneFound">
        <i class="fa fa-cancel"></i> No Results Found
      </div>
      <div ng-repeat="product in $ctrl.products"
           ng-click="$ctrl.selectProduct(product)">
        <span ng-if="product.selected"><i class="fa fa-check"></i><span class="sr-only">Product is selected</span> </span>{{ product.name }}
      </div>
    </div>
  </div>
  <div class="flex-item panel panel-default">
    <div class="panel-body">
      <h2>Products Merging</h2>
      <div class="selected-product selected-product--primary">
        {{ $ctrl.product.name }}
      </div>
      <div ng-repeat="product in $ctrl.selectedProducts | orderBy: 'name' track by $index"
           class="selected-product selected-product--secondary" ng-class-even="'selected-product--even'" ng-class-odd="'selected-product--odd'"
           ng-click="$ctrl.selectProduct(product)">
        {{ product.name }}
        <span class="pull-right"><i class="fa fa-close"></i></span>
      </div>
      <h2>New Merged Product</h2>
      <chpl-product-edit product="$ctrl.product"
                         ng-if="$ctrl.product"
                         is-merging="true"
                         merging-products="$ctrl.selectedProducts"
                         take-action="$ctrl.takeAction(action, data)"
                         ></chpl-product-edit>
    </div>
  </div>
</div>
