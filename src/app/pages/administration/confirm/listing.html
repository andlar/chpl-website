<div class="listing-inspect" ng-form="$ctrl.form">
  <div ng-switch="$ctrl.stage" class="listing-inspect__header">
    <div>
      <h1 ng-switch-when="developer">Developer</h1>
      <h1 ng-switch-when="product">Product</h1>
      <h1 ng-switch-when="version">Version</h1>
      <h1 ng-switch-when="listing">Listing</h1>
      <h2>Inspecting Listing: {{ $ctrl.listing.chplProductNumber }}</h2>
    </div>
    <div>
      <uib-progressbar
        class="progress-striped active"
        type="info"
        value="$ctrl.getStage()"
        max="4"
        title="{{ $ctrl.stage }}">{{ $ctrl.stage }}
      </uib-progressbar>
    </div>
  </div>
  <div ng-switch="$ctrl.stage">
    <div ng-switch-when="developer">
      <chpl-confirm-developer
        developer="$ctrl.developer"
        developers="$ctrl.developers"
        listing="$ctrl.listing"
        show-form-errors="$ctrl.showFormErrors"
        take-action="$ctrl.takeDeveloperAction(action, developerId)"
        set-choice="$ctrl.setDeveloperChoice(choice)"
        ></chpl-confirm-developer>
    </div>
    <div ng-switch-when="product">
      <ai-inspect-product
        pending-product="$ctrl.listing.product"
        developer="$ctrl.listing.developer"
        on-select="$ctrl.selectInspectingProduct(productId)"
        set-choice="$ctrl.setProductChoice(choice)"
        ></ai-inspect-product>
    </div>
    <div ng-switch-when="version">
      <ai-inspect-version
        pending-version="$ctrl.listing.version"
        product="$ctrl.listing.product"
        on-select="$ctrl.selectInspectingVersion(versionId)"
        set-choice="$ctrl.setVersionChoice(choice)"
        ></ai-inspect-version>
    </div>
    <div ng-switch-when="listing">
      <chpl-inspect-listing
        listing="$ctrl.listing"
        on-change="$ctrl.editListing(listing)"
        resources="$ctrl.resources"
        ></chpl-inspect-listing>
    </div>
  </div>
  <chpl-action-bar can-act="$ctrl.canAct(action)"
                   error-messages="$ctrl.errorMessages"
                   is-wizard="true"
                   take-action="$ctrl.takeAction(action)">
  </chpl-action-bar>
</div>
